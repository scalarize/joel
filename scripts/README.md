# 脚本说明

## simulate-2048-ai.ts

2048 AI 模拟脚本，用于快速模拟多次 AI 游戏并统计结果。

**注意**：此脚本依赖于 `web/src/Game2048Logic.ts` 中导出的游戏逻辑函数，避免了代码重复。

`Game2048Logic.ts` 是一个纯逻辑文件，不包含 React 或 CSS 依赖，可以在 Node.js 环境中直接使用。`Game2048.tsx` 和 `simulate-2048-ai.ts` 都从这个文件导入游戏逻辑，确保代码一致性和可维护性。

### 安装依赖

首先需要安装 `tsx` 来运行 TypeScript 脚本：

```bash
npm install -D tsx
```

或者全局安装：

```bash
npm install -g tsx
```

### 使用方法

```bash
# 从项目根目录运行
npx tsx scripts/simulate-2048-ai.ts [运行次数] [网格大小]
```

### 参数说明

- `运行次数`（可选，默认 10）：要模拟的游戏次数
- `网格大小`（可选，默认 4）：游戏网格大小，可选 4、5 或 6

### 示例

```bash
# 运行 10 次模拟（默认）
npx tsx scripts/simulate-2048-ai.ts

# 运行 100 次模拟
npx tsx scripts/simulate-2048-ai.ts 100

# 运行 50 次模拟，使用 5x5 网格
npx tsx scripts/simulate-2048-ai.ts 50 5
```

### 输出说明

脚本会输出以下统计信息：

- **总耗时**：所有模拟的总耗时
- **平均每次耗时**：单次模拟的平均耗时
- **得分统计**：最高得分、最低得分、平均得分
- **最高块统计**：最高数字、平均最高数字
- **达到各最高数字的次数**：每个最高数字出现的次数和百分比
- **其他统计**：平均步数

### 注意事项

- 模拟过程会输出每次游戏的进度信息
- 每 100 步会输出一次中间进度
- 游戏结束时输出最终结果
